function generateShop(e){shopHtml.innerHTML="",e.forEach(e=>{var n=`\n        <div class="car" data-id="${e.id}" data-category="${e.category}">\n            ${1==e.new?'<span class="car--badge">New</span>':""}\n            <img src="assets/Product Images/${e.image}" alt="${e.name}" class="car--img">\n            <span class="car--specs">${e.seats} Seats, ${e.doors} Doors</span>\n            <h3 class="car--name">${e.name}</h3>\n            <button class="car--config" data-id="${e.id}">Configurator</button>\n            <ul class="car--info">\n                ${listFeatures(e.features)}\n            </ul>\n            <div class="car--bottom">\n                <div class="car--price">\n                    Starting from <br>\n                    <span>${e.price.toLocaleString()} €</span>\n                </div>\n                <div class="car--btn">\n                    <button data-id="${e.id}">Buy Now</button>\n                </div>\n            </div>\n        </div>\n        `;shopHtml.innerHTML+=n}),carsHtml=document.querySelectorAll("#shop .car"),configListener(),buyListener()}function listFeatures(e){var n="";return e.forEach(e=>{n+=`<li>${e}</li>`}),n}function configListener(){var e=document.querySelectorAll(".car .car--config");e.forEach(e=>{e.addEventListener("click",()=>{openConfig(e.dataset.id)})})}function buyListener(){var e=document.querySelectorAll(".car .car--btn button");e.forEach(e=>{e.addEventListener("click",()=>{openBuyPrompt(e.dataset.id)})})}function openBuyPrompt(e){var n=cars.find(n=>n.id==e);document.querySelector(".buy .buy--title").innerHTML=`Are you sure you want to proceed with the purchase of <strong>${n.name} (${n.price.toLocaleString(void 0,{maximumFractionDigits:2})} €)</strong>?`,buyPrompt.classList.remove("buy__hidden"),document.querySelector("html").style.overflowY="hidden"}function closeBuyPrompt(){buyPrompt.classList.add("buy__hidden"),document.querySelector("html").style.overflowY="scroll"}function openConfig(e){var n=cars.find(n=>n.id==e);document.querySelector(".config .config--left").innerHTML="",document.querySelector(".config .config--right .config--list").innerHTML="";var c=`\n    <div class="config--img">\n        ${1==n.new?'<span class="config--badge">New</span>':""}\n        <img src="assets/Product Images/${n.image}" alt="Audi">\n    </div>\n        <span class="config--specs">${n.seats} Seats, ${n.doors} Doors</span>\n        <h3 class="config--name">${n.name}</h3>\n    <div class="config--price">\n        Starting from <br>\n        <span class="config--price--num">${n.price.toLocaleString(void 0,{maximumFractionDigits:2})} €</span>\n    </div>\n    `,i=listConfigItems(n.configuration);document.querySelector(".config .config--left").innerHTML=c,document.querySelector(".config .config--right .config--list").innerHTML=i,initiateCheckboxes(n.id,n.price),configWindow.classList.remove("config__hidden"),document.querySelector("html").style.overflowY="hidden"}function listConfigItems(e){var n="";return e.forEach((e,c)=>{n+=`\n        <div class="config--row row justify-content-between">\n            <label class="col config--label">\n                <input data-index="${c}" data-name="${e.name}" data-price="${e.price}" type="checkbox" hidden ${1==e.checked?"checked":""}>\n                <div class="config--checkmark"><img src="assets/Icons/checkmark.png" alt="Checkmark"></div>\n                <p>${e.name}</p>\n            </label>\n            <span class="col">\n                ${e.price.toLocaleString(void 0,{maximumFractionDigits:2})} EUR\n            </span>\n        </div>\n        `}),n}function initiateCheckboxes(e){var n=document.querySelectorAll(".config .config--list .config--label input");n.forEach(n=>{n.addEventListener("change",()=>{var c=cars.find(n=>n.id==e);1==n.checked?(c.price=Number(c.price)+Number(n.dataset.price),c.configuration[n.dataset.index].checked=!0,updatePriceHtml(c.id,c.price)):(c.price=Number(c.price)-Number(n.dataset.price),c.configuration[n.dataset.index].checked=!1,updatePriceHtml(c.id,c.price))})})}function updatePriceHtml(e,n){document.querySelector(".config .config--price .config--price--num").innerHTML=`${n.toLocaleString(void 0,{maximumFractionDigits:2})} €`,document.querySelector(".car[data-id='"+e+"'] .car--price span").innerHTML=`${n.toLocaleString(void 0,{maximumFractionDigits:2})} €`}function clearCarNav(){shopNav.forEach(e=>{e.classList.remove("shop--nav__active")})}function filterCars(e){"All"==e?carsHtml.forEach(e=>{e.classList.remove("car__hidden")}):carsHtml.forEach(n=>{n.dataset.category==e?n.classList.remove("car__hidden"):n.classList.add("car__hidden")})}function hideLabel(e){e.style.display="none"}function showLabel(e){e.style.display="block"}let carsHtml,menuBtn=document.querySelector(".header--menu-btn"),mobileMenu=document.querySelector(".menu"),mobileDropdown=document.querySelector(".menu--nav--drop"),shopHtml=document.querySelector("#shop"),shopNav=document.querySelectorAll(".shop--nav--link"),configWindow=document.querySelector(".config"),configCloseBtn=document.querySelector(".config .config--close"),buyPrompt=document.querySelector(".buy"),buyBtn=document.querySelector(".buy .buy--confirm"),buyCloseBtn=document.querySelector(".buy .buy--close"),contactFields=document.querySelectorAll(".contact .contact--field"),cars=[{id:1,category:"Hatchback",image:"product-card-audi-q3.png",name:"Audi Q3 2020",seats:"5",doors:"4",features:["Includes 300 free km","Theft Protection","Non Refundable"],price:29999,new:!1,configuration:[{name:"48-V electrical system",price:0,checked:!1},{name:"Adaptive air suspension - sport",price:278.6,checked:!1},{name:"Acoustic side windows - optional",price:558.78,checked:!1},{name:"Acoustic and heat-insulting glass",price:357.29,checked:!1},{name:"Ambiental LED",price:637.48,checked:!1}]},{id:2,category:"Limousine",image:"product-card-audi-a4.png",name:"Audi A4 2020",seats:"5",doors:"4",features:["Includes 400 free km","Theft Protection","Non Refundable"],price:24999,new:!1,configuration:[{name:"Adaptive air suspension - sport",price:278.6,checked:!1},{name:"Acoustic side windows - optional",price:558.78,checked:!1},{name:"Acoustic and heat-insulting glass",price:357.29,checked:!1},{name:"Ambiental LED",price:637.48,checked:!1}]},{id:3,category:"Hatchback",image:"product-card-audi-a3.png",name:"Audi A3 2020",seats:"5",doors:"4",features:["Includes 200 free km","Theft Protection","Non Refundable"],price:19999,new:!0,configuration:[{name:"48-V electrical system",price:0,checked:!1},{name:"Adaptive air suspension - sport",price:278.6,checked:!1},{name:"Acoustic side windows - optional",price:558.78,checked:!1},{name:"Acoustic and heat-insulting glass",price:357.29,checked:!1}]},{id:4,category:"SUV",image:"product-card-audi-q7.png",name:"Audi Q7 2020",seats:"5",doors:"4",features:["Includes 300 free km","Theft Protection","Non Refundable"],price:39999,new:!0,configuration:[{name:"48-V electrical system",price:0,checked:!1},{name:"Adaptive air suspension - sport",price:278.6,checked:!1},{name:"Acoustic side windows - optional",price:558.78,checked:!1},{name:"Ambiental LED",price:637.48,checked:!1}]}];menuBtn.addEventListener("click",()=>{menuBtn.classList.toggle("header--menu-btn__active"),mobileMenu.classList.toggle("menu__active"),document.querySelector("html").classList.toggle("menu-open")}),mobileDropdown.addEventListener("click",()=>{mobileDropdown.classList.toggle("menu--nav--drop__open")}),generateShop(cars),buyBtn.addEventListener("click",()=>{closeBuyPrompt()}),buyCloseBtn.addEventListener("click",()=>{closeBuyPrompt()}),configCloseBtn.addEventListener("click",()=>{configWindow.classList.add("config__hidden"),document.querySelector("html").style.overflowY="scroll"}),shopNav.forEach(e=>{e.addEventListener("click",function(){filterCars(this.dataset.cat),clearCarNav(),e.classList.add("shop--nav__active")})}),contactFields.forEach(e=>{e.addEventListener("focus",()=>{hideLabel(e.previousElementSibling)}),e.addEventListener("blur",()=>{e.value?hideLabel(e.previousElementSibling):showLabel(e.previousElementSibling)})});